# Memory System

This folder contains the local "memory" for the AI Practitioner Learning OS. It stores the learner's profile, progress, decisions, and accumulated best practices.

## Files

| File | Format | Purpose |
|------|--------|---------|
| [learner_profile.json](learner_profile.json) | JSON | Goals, constraints, schedule |
| [progress_log.jsonl](progress_log.jsonl) | JSONL | Timestamped progress events |
| [decisions.jsonl](decisions.jsonl) | JSONL | Important decisions made |
| [best_practices.md](best_practices.md) | Markdown | Living document of best practices |

## Important: Append-Only Discipline

**Memory files are append-only sources of truth.**

- NEVER delete or modify existing entries
- Only APPEND new entries
- The tracker at `paths/Beginner/tracker.md` is a **derived artifact** that can be regenerated by `report.py`

## File Formats

### learner_profile.json

```json
{
  "level": "Beginner",
  "started": "2026-01-01",
  "goals": ["Learn ML fundamentals", "Build portfolio"],
  "constraints": {
    "hours_per_week": 10,
    "preferred_days": ["Mon", "Tue", "Wed", "Thu", "Fri"],
    "timezone": "UTC"
  },
  "interests": ["NLP", "time series"],
  "background": "Software developer with 2 years experience"
}
```

### progress_log.jsonl

One JSON object per line:

```json
{"timestamp": "2026-01-07T09:00:00Z", "event": "week_start", "week": 2, "month": 1}
{"timestamp": "2026-01-07T14:00:00Z", "event": "task_completed", "task": "EDA notebook", "duration_hours": 2}
{"timestamp": "2026-01-10T17:00:00Z", "event": "week_end", "week": 2, "reflection": {"went_well": "...", "to_improve": "..."}}
```

### decisions.jsonl

One JSON object per line:

```json
{"timestamp": "2026-01-15T10:00:00Z", "decision": "project_swap", "from": "sentiment-analysis", "to": "topic-modeling", "rationale": "Better aligned with interests"}
{"timestamp": "2026-02-01T09:00:00Z", "decision": "remediation_week", "focus": "pandas fundamentals", "rationale": "Struggling with data manipulation"}
```

### best_practices.md

Markdown document with categorized practices:

```markdown
## Data Analysis

### Always Check Data Quality First
**Context**: Starting any data project
**Practice**: Run missing value check, duplicate check, and type validation before analysis
**Why**: Prevents wasted time on flawed analysis
**Added**: 2026-01-15
```

## How Claude Updates Memory

1. **Read current state**: Load relevant memory files
2. **Append new entries**: Add timestamped entries for events
3. **Preserve history**: Never modify past entries
4. **Generate derived artifacts**: Update tracker.md via report.py

## How You Review/Edit Memory

You can:
- Read any memory file to understand your history
- Manually edit `learner_profile.json` to update goals/constraints
- Add to `best_practices.md` directly
- Review progress_log.jsonl to track your journey

You should NOT:
- Delete entries from JSONL files
- Modify timestamps of existing entries
- Edit `tracker.md` directly (it's regenerated)

## How Memory Affects Adaptation

The evaluation engine (`evaluate.py`) reads memory to:
- Calculate progress scores
- Identify patterns (struggles, successes)
- Inform adaptation decisions

The adaptation engine (`adapt.py`) uses memory to:
- Propose path modifications
- Justify recommendations
- Track what's been tried

## Example: Week Flow

```
Monday (pre_week_start.sh):
  → Appends "week_start" to progress_log.jsonl

During week:
  → Appends "task_completed" events as you work

Friday (post_week_review.sh):
  → Appends "week_end" with reflection to progress_log.jsonl
  → evaluate.py reads memory and scores progress
  → report.py regenerates tracker.md
```

## Documentation

For more details, see [docs/memory-system.md](../../docs/memory-system.md).
